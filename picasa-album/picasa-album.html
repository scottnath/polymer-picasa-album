<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../core-ajax/core-ajax.html">
<link rel="import" href="../basic-sequence/basic-sequence.html">

<!--
Element providing solution to no problem in particular.

##### Example

    <picasa-album></picasa-album>

@element picasa-album
@blurb Element providing solution to no problem in particular.
@status alpha
@homepage http://polymerlabs.github.io/picasa-album
-->
<polymer-element name="picasa-album" attributes="notitle author">

  <template>

    <link rel="stylesheet" href="picasa-album.css" />

    <core-ajax
      url="https://picasaweb.google.com/data/feed/base/user/111842695242051118098/albumid/6090297544948899153"
      params='{
        "alt":"json",
        "kind":"photo",
        "hl":"pl",
        "imgmax":"912"
      }'
      handleAs="json"
      auto
      response="{{response}}"
      on-core-response="{{ajaxResponse}}"
      ></core-ajax>

    <button on-click="{{ clickEventPrevious }}">Previous</button>
    <button on-click="{{ clickEventNext }}">Next</button>

    <basic-sequence id="sequence" effect="reveal" wrapAround="true">
      <template repeat="{{s in response.feed.entry}}">
        <img src="{{s.media$group.media$thumbnail[2].url}}">
      </template>
    </basic-sequence>
  </template>

  <script>

    Polymer({

      ready: function() {
        // Ready is a lifecycle callback.
        // You can do setup work in here.
        // More info: http://www.polymer-project.org/docs/polymer/polymer.html#lifecyclemethods
      },

      /**
       * The `clickEventPrevious` method will advance the images backwards. Functionality comes from basic-sequence (https://github.com/basic-web-components/basic-sequence)
       *
       * @method clickEventPrevious
       */
      clickEventPrevious: function() {
        this.shadowRoot.querySelector('#sequence').previous();
      },
      /**
       * The `clickEventNext` method will advance the images forward. Functionality comes from basic-sequence (https://github.com/basic-web-components/basic-sequence)
       *
       * @method clickEventPrevious
       */
      clickEventNext: function() {
        this.shadowRoot.querySelector('#sequence').next();
      }

    });

  </script>

</polymer-element>
